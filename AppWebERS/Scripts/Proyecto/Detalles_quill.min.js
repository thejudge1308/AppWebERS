//Creado por Patricio Quezada
//Detalles_quill compress
$(document).ready(function () { var o = { theme: "snow", placeholder: "Escribe algo aquí..", modules: { toolbar: [["bold", "italic", "underline", "strike"], [{ header: 1 }, { header: 2 }], [{ header: [1, 2, 3, 4, 5, 6, !1] }], [{ list: "ordered" }, { list: "bullet" }], [{ script: "sub" }, { script: "super" }], [{ indent: "-1" }, { indent: "+1" }], [{ font: [] }], [{ size: ["small", !1, "large", "huge"] }], [{ color: [] }, { background: [] }], [{ align: [] }], ["clean"]] } }, e = new Quill("#nombre-edit", o), t = new Quill("#proposito-edit", o), n = new Quill("#alcance-edit", o), i = new Quill("#contexto-edit", o), r = new Quill("#definicion-edit", o), c = new Quill("#acronimo-edit", o), l = new Quill("#abreviatura-edit", o), a = new Quill("#referencia-edit", o), d = new Quill("#ambiente-edit", o), u = new Quill("#relacion-edit", o), s = "/Proyecto/infoProyecto/" + $("#ProyectoActual_IdProyecto").val(); function p(o, e, t) { var n = { id: o, atributo: e, valor: t }; console.log(n), $.ajax({ type: "POST", url: "/Proyecto/Detalles", data: JSON.stringify(n), contentType: "application/json; charset=utf-8", dataType: "json", success: function (o) { mostrarAlerta("Modificado con exito"), console.log(o), o ? mostrarAlerta("Cambios guardados exitosamente") : mostrarAlerta("No se ha podido guardar la modificación"), setTimeout(function () { location.reload() }, 5e3) }, failure: function (o) { mostrarAlerta(o.responseText) }, error: function (o) { mostrarAlerta(o.responseText) } }) } $.get(s, function () { }).done(function (o) { console.log(o); var e = "<p></br></p>", t = "" === o.Nombre ? e : o.Nombre, n = "" === o.Proposito ? e : o.Proposito, i = "" === o.Alcance ? e : o.Alcance, r = "" === o.Contexto ? e : o.Contexto, c = "" === o.Definiciones ? e : o.Definiciones, l = "" === o.Acronimos ? e : o.Acronimos, a = "" === o.Abreviaturas ? e : o.Abreviaturas, d = "" === o.Referencias ? e : o.Referencias, u = "" === o.AmbienteOperacional ? e : o.AmbienteOperacional, s = "" === o.RelacionProyectos ? e : o.RelacionProyectos; $("#nombre-edit .ql-editor").empty(), $("#proposito-edit .ql-editor").empty(), $("#alcance-edit .ql-editor").empty(), $("#contexto-edit .ql-editor").empty(), $("#definicion-edit .ql-editor").empty(), $("#acronimo-edit .ql-editor").empty(), $("#abreviatura-edit .ql-editor").empty(), $("#referencia-edit .ql-editor").empty(), $("#ambiente-edit .ql-editor").empty(), $("#relacion-edit .ql-editor").empty(), $("#nombre-edit .ql-editor").append(t), $("#proposito-edit .ql-editor").append(n), $("#alcance-edit .ql-editor").append(i), $("#contexto-edit .ql-editor").append(r), $("#definicion-edit .ql-editor").append(c), $("#acronimo-edit .ql-editor").append(l), $("#abreviatura-edit .ql-editor").append(a), $("#referencia-edit .ql-editor").append(d), $("#ambiente-edit .ql-editor").append(u), $("#relacion-edit .ql-editor").append(s) }).fail(function () { }).always(function () { }), $("#nombre-button").on("click", function () { console.log(e.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "nombre", e.root.innerHTML) }), $("#proposito-button").on("click", function () { console.log(t.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "proposito", t.root.innerHTML) }), $("#alcance-button").on("click", function () { console.log(n.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "alcance", n.root.innerHTML) }), $("#contexto-button").on("click", function () { console.log(i.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "contexto", i.root.innerHTML) }), $("#definicion-button").on("click", function () { console.log(r.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "definicion", r.root.innerHTML) }), $("#acronimo-button").on("click", function () { console.log(c.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "acronimo", c.root.innerHTML) }), $("#abreviatura-button").on("click", function () { console.log(l.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "abreviatura", l.root.innerHTML) }), $("#referencia-button").on("click", function () { console.log(a.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "referencia", a.root.innerHTML) }), $("#ambiente-button").on("click", function () { console.log(d.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "ambiente", d.root.innerHTML) }), $("#relacion-button").on("click", function () { console.log(u.root.innerHTML), p($("#ProyectoActual_IdProyecto").val(), "relacion", u.root.innerHTML) }) });